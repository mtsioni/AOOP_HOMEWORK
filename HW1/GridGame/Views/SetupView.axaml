<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="GridGame.Views.SetupView">

    <StackPanel Spacing="20">

        <!-- Title -->
        <TextBlock Text="Grid Game Setup"
                   FontSize="28"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,20,0,0" />

        <!-- Player Count Selection -->
        <StackPanel Spacing="10"
                   Margin="20,0,20,0">
            <TextBlock Text="Number of Players:"
                       FontSize="16" />
            <ComboBox ItemsSource="{Binding AvailablePlayerCounts}"
                      SelectedItem="{Binding PlayerCount}"
                      Width="100" />
        </StackPanel>

        <!-- Player Setup List -->
        <StackPanel Spacing="10"
                   Margin="20,0,20,0">
            <TextBlock Text="Player Setup:"
                       FontSize="16" />
            <ListBox ItemsSource="{Binding Players}"
                     Height="200">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="15" Margin="10">
                            <Rectangle Width="30"
                                       Height="30"
                                       Fill="{Binding Color}" />

                            <TextBox Text="{Binding Name}"
                                     Watermark="Enter player name"
                                     MinWidth="200" />

                            <ComboBox ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=DataContext.AvailableColors}"
                                      SelectedItem="{Binding Color}"
                                      Width="100" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </StackPanel>

        <!-- Board Size Selection -->
        <StackPanel Spacing="10"
                   Margin="20,0,20,0">
            <TextBlock Text="Board Size:"
                       FontSize="16" />
            <ComboBox ItemsSource="{Binding AvailableSizes}"
                      SelectedItem="{Binding SelectedSize}"
                      Width="150" />
        </StackPanel>

        <!-- Start Button -->
        <Button Content="Start Game"
                IsEnabled="{Binding CanStart}"
                HorizontalAlignment="Center"
                Margin="0,20,0,20"
                Padding="20,10"
                FontSize="14"
                Click="OnStartGameClicked" />

    </StackPanel>

</UserControl>